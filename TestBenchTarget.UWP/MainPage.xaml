<Page  
   x:Class="TestBenchTarget.UWP.MainPage"  
   xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"  
   xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"  
   xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:muxc="using:Microsoft.UI.Xaml.Controls"  
   xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:local="using:TestBenchTarget.UWP" xmlns:viewmodels="using:TestBenchTarget.UWP.ViewModels" d:DataContext="{d:DesignInstance Type=viewmodels:MainViewModel}"  
   mc:Ignorable="d"  
   Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">  
   <Page.Resources>  
       <local:DateFormatConverter x:Key="DateConverter"/>  
   </Page.Resources>  
   <Grid Padding="20">  
       <Grid.RowDefinitions>  
           <RowDefinition Height="Auto"/>  
           <RowDefinition Height="*"/>  
       </Grid.RowDefinitions>  
       <Grid.ColumnDefinitions>  
           <ColumnDefinition Width="*"/>  
           <ColumnDefinition Width="300"/>  
       </Grid.ColumnDefinitions>  

       <!-- Header -->  
       <StackPanel Grid.Row="0" Grid.Column="0" Orientation="Horizontal" Margin="20, 5, 50, 50">

            <TextBlock Text="Main Page - TestBench Target" FontSize="16" VerticalAlignment="Top" HorizontalAlignment="Left"
                       VariableSizedWrapGrid.ColumnSpan="1"
                       Padding="20, 5"
                       />
            <!--<TextBlock x:Name="TimeDisplay" FontSize="30" VerticalAlignment="Center" Text="00:00:00"
                       VariableSizedWrapGrid.ColumnSpan="0"
                       Padding="20, 5"
                       />-->  
       </StackPanel>  

       <!-- Main table -->  
       <ListView x:Name="MainListView"  
         Grid.Row="1" Grid.Column="0"   
         Margin="0,0,50,0"  Padding="15"
         ItemsSource="{Binding DataItems}"  
         SelectedItem="{Binding SelectedItem, Mode=TwoWay}"  
         CanDragItems="False"  
         IsItemClickEnabled="False"  BorderBrush="Gray"
         SelectionMode="Single"     BorderThickness="0" CornerRadius="7"
         KeyDown="MainListView_KeyDown"  
         SelectionChanged="MainListView_SelectionChanged">  

       <ListView.HeaderTemplate>  
               <DataTemplate>
                    <Grid Padding="25, 0, 25, 15" BorderThickness="0, 0, 0, 2.25" BorderBrush="Gray" >  
                       <Grid.ColumnDefinitions>  
                           <ColumnDefinition Width="*"/>  
                           <ColumnDefinition Width="*"/>  
                           <ColumnDefinition Width="*"/>  
                           <ColumnDefinition Width="*"/>  
                       </Grid.ColumnDefinitions>
                       <TextBlock Text="Date"       FontWeight="Bold" Margin="5" Grid.Column="0"/>  
                       <TextBlock Text="Procedure"  FontWeight="Bold" Margin="5" Grid.Column="1"/>  
                       <TextBlock Text="Points"     FontWeight="Bold" Margin="5" Grid.Column="2"/>  
                       <TextBlock Text="Delegate"   FontWeight="Bold" Margin="5" Grid.Column="3"/>  
                   </Grid>  
               </DataTemplate>  
           </ListView.HeaderTemplate>  
           <ListView.ItemTemplate>  
               <DataTemplate>
                    <Grid Padding="10, 10, 10, 1" BorderThickness="0, 0, 0, 1" BorderBrush="Gray" >  
                       <Grid.ColumnDefinitions>  
                           <ColumnDefinition Width="*"/>  
                           <ColumnDefinition Width="*"/>  
                           <ColumnDefinition Width="*"/>  
                           <ColumnDefinition Width="*"/>  
                       </Grid.ColumnDefinitions>  
                       <TextBlock Text="{Binding DateColumnValue, Converter={StaticResource DateConverter}}"   
                           Margin="5" VerticalAlignment="Center" Grid.Column="0"/>  
                       <TextBlock Text="{Binding ProcedureColumnValue}"   
                           Margin="5" VerticalAlignment="Center" Grid.Column="1"/>  
                       <TextBlock Text="{Binding PointsColumnValue}"   
                           Margin="5" VerticalAlignment="Center" Grid.Column="2"/>  
                       <TextBlock Text="{Binding DelegateColumnValue}"   
                           Margin="5" VerticalAlignment="Center" Grid.Column="3"/>  
                   </Grid>  
               </DataTemplate>  
           </ListView.ItemTemplate>  
       </ListView>  

       <!-- Right control panel -->   
       <StackPanel Grid.Row="0" Grid.Column="1" Grid.RowSpan="2"  
                   Width="280"   Margin="0, 70, 0, 0"
                   HorizontalAlignment="Right">  

           <!-- Form fields -->  
           <TextBlock Text="Date" Margin="0,20,0,5"/>  
           <ComboBox x:Name="DateSelector"   
                     PlaceholderText="Select date"  
                     HorizontalAlignment="Stretch"  
                     SelectedItem="{Binding SelectedDateString, Mode=TwoWay}"/>  

           <TextBlock Text="Procedure" Margin="0,20,0,5"/>  
           <TextBox x:Name="ProcedureInput"  
                    Text="{Binding ProcedureText, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"  
                    PlaceholderText="Enter procedure"  
                    Margin="0,0,0,10"/>  

           <TextBlock Text="Points" Margin="0,10,0,5"/>  
           <TextBox x:Name="PointsInput"  
                    Text="{Binding PointsText, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"  
                    PlaceholderText="0"  
                    Margin="0,0,0,10"  
                    TextChanged="PointsInput_TextChanged"  
                    LostFocus="PointsInput_LostFocus"/>  

           <TextBlock Text="Delegate" Margin="0,10,0,5"/>  
           <TextBox x:Name="DelegateInput"  
                    Text="{Binding DelegateText, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"  
                    PlaceholderText="Enter delegate"  
                    Margin="0,0,0,10"/>  

           <!-- Buttons -->  
           <Button Content="Add to table"   
                   Command="{Binding AddCommand}"  
                   HorizontalAlignment="Stretch"  
                   Margin="0,20,0,10"/>  

           <Button Content="Load data"   
                   Command="{Binding LoadCommand}"  
                   HorizontalAlignment="Stretch"  
                   Margin="0,10,0,10"/>  

           <Button Content="Save data to file"   
                   Command="{Binding SaveCommand}"  
                   HorizontalAlignment="Stretch"  
                   Margin="0,10,0,10"/>  

           <Button Content="Delete data"   
                   Command="{Binding DeleteCommand}"  
                   HorizontalAlignment="Stretch"  
                   Margin="0,10,0,10"/>  

           <Button Content="Open folder"   
                   Command="{Binding OpenFolderCommand}"  
                   HorizontalAlignment="Stretch"  
                   Margin="0,10,0,10"/>

            <Button Content="Clear form"   
                    Command="{Binding ClearFormCommand}"  
                    HorizontalAlignment="Stretch"  
                    Margin="0,10,0,10"/>

            <Button Content="Clear list"   
                    Command="{Binding ClearListCommand}"  
                    HorizontalAlignment="Stretch"  
                    Margin="0,10,0,10"/>
        </StackPanel>  

   <muxc:TeachingTip  
       x:Name="SaveSuccessNotification"  
       Title="Success"  
       Subtitle="Data has been saved successfully"  
       IsLightDismissEnabled="True"  
       PreferredPlacement="Top"  
       CloseButtonContent="OK"  
       AutomationProperties.AutomationId="SaveSuccessTeachingTip"/>  

   <muxc:TeachingTip   
       x:Name="SaveErrorNotification"  
       Title="Error"  
       Subtitle="Error while saving data"  
       IsLightDismissEnabled="True"  
       PreferredPlacement="Top"  
       CloseButtonContent="OK"  
       AutomationProperties.AutomationId="SaveErrorTeachingTip"/>  

   <muxc:TeachingTip  
       x:Name="LoadErrorNotification"  
       Title="Error"  
       Subtitle="Error while loading data"  
       IsLightDismissEnabled="True"  
       PreferredPlacement="Top"  
       CloseButtonContent="OK"  
       AutomationProperties.AutomationId="LoadErrorTeachingTip"/>  

   <muxc:TeachingTip  
       x:Name="DeleteErrorNotification"   
       Title="Error"  
       Subtitle="Error while deleting data"  
       IsLightDismissEnabled="True"  
       PreferredPlacement="Top"  
       CloseButtonContent="OK"  
       AutomationProperties.AutomationId="DeleteErrorTeachingTip"/>  

   <muxc:TeachingTip  
       x:Name="OpenFolderErrorNotification"  
       Title="Error"  
       Subtitle="Error while opening folder"  
       IsLightDismissEnabled="True"  
       PreferredPlacement="Top"  
       CloseButtonContent="OK"  
       AutomationProperties.AutomationId="OpenFolderTeachingTip"/>

   <muxc:TeachingTip
       x:Name="ClearListSuccessNotification"  
       Title="Success"  
       Subtitle="The list has been cleared successfully"  
       IsLightDismissEnabled="True"  
       PreferredPlacement="Top"  
       CloseButtonContent="OK"  
       AutomationProperties.AutomationId="ClearListSuccessTeachingTip"/>
    </Grid>
</Page>